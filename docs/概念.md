# rust 概念

这些所有权和借用规则确保了 Rust 程序的内存安全,避免了常见的内存访问错误,如空指针、数据竞争等。同时,这些规则也为 Rust 的并发编程提供了基础,保证了线程安全。

需要注意的是,在多线程环境下,即使遵守了这些规则,还需要额外的同步机制(如互斥锁、原子操作等)来避免数据竞争问题。这是因为 Rust 的所有权和借用规则只能确保单线程环境下的安全性。

总的来说,Rust 的所有权和借用规则是 Rust 语言安全性的核心,开发者需要深入理解和掌握这些规则,才能编写出安全高效的 Rust 代码。

### 所有权（Ownership）:

每个值都有一个称为所有者（owner）的变量。
一个值在任意给定时间,只能有一个所有者。
当所有者离开作用域时,这个值将被丢弃。

### 借用（Borrowing）:

你可以通过获取变量的引用（reference）来借用该变量。

有两种引用类型:
不可变引用（immutable reference）: &T
可变引用（mutable reference）: &mut T

在任意给定时间:
要么存在一个可变引用,要么存在任意数量的不可变引用。
不能同时存在可变引用和不可变引用。

### 引用规则:

你不能在同一作用域内同时拥有一个值的不可变引用和可变引用。
你不能在同一作用域内拥有多个可变引用。
引用的生命周期不能超过其所引用值的生命周期。

### 所有权转移:

当一个变量离开作用域时,它的值将被丢弃。
你可以通过赋值来转移所有权,但之前的变量将不再拥有该值。
函数参数的传递也是通过所有权转移来实现的。

### Copy 和 Clone 特性:

对于实现了 Copy 特性的类型,在赋值时会进行复制,保留原有的所有权。
对于没有实现 Copy 特性的类型,需要使用 Clone 方法来创建一个新的副本。
